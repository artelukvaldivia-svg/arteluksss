<!-- =========================
PARTE 1/3 ‚Äî HEAD + CSS PRO (Netflix-like)
Pega esto primero
========================= -->
<!DOCTYPE html>
<html lang="es-CL">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Arteluk ‚Äî Arte & Arteterapia en Valdivia</title>
  <meta name="description" content="Academia de arte y arteterapia en Valdivia. Talleres para ni√±os, j√≥venes y adultos. Direcci√≥n: Picarte 407." />
  <link rel="canonical" href="https://www.arteluk.cl/" />
  <meta name="robots" content="index,follow,max-image-preview:large" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Favicons (ajusta rutas si tus √≠conos est√°n en otra carpeta) -->
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="img/android-chrome-192x192.png">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
  <meta name="theme-color" content="#0b0b0b">

  <!-- OpenGraph -->
  <meta property="og:title" content="Arteluk ‚Äî Arte & Arteterapia en Valdivia">
  <meta property="og:description" content="Academia de arte y arteterapia en Valdivia. Talleres para ni√±os, j√≥venes y adultos.">
  <meta property="og:image" content="https://www.arteluk.cl/img/android-chrome-512x512.png">
  <meta property="og:url" content="https://www.arteluk.cl/">
  <meta property="og:type" content="website">

  <!-- Meta Pixel -->
  <link rel="preconnect" href="https://connect.facebook.net" crossorigin>
  <script>
    !function(f,b,e,v,n,t,s){
      if(f.fbq)return; n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n; n.push=n; n.loaded=!0; n.version='2.0';
      n.queue=[]; t=b.createElement(e); t.async=!0; t.src=v;
      s=b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t,s)
    }(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
    fbq('init','1611426433185367');
    fbq('track','PageView');
  </script>
  <noscript>
    <img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=1611426433185367&ev=PageView&noscript=1"/>
  </noscript>

  <style>
    :root{
      --bg:#0b0b0b;
      --panel:#111214;
      --panel2:#17181b;
      --text:#f5f7fb;
      --muted:#c7cbd6;
      --muted2:#9aa3b2;
      --line:rgba(255,255,255,.10);
      --shadow:0 18px 60px rgba(0,0,0,.55);

      /* Marca Arteluk (azul) */
      --accent:#2563eb;
      --accent2:#0ea5e9;

      --radius:18px;
      --navH:66px;
      --max:1220px;
    }

    *{ box-sizing:border-box }
    html,body{ margin:0; padding:0; background:var(--bg); color:var(--text); }
    body{
      font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
      overflow-x:hidden;
    }
    img,video{ max-width:100%; display:block; }
    a{ color:inherit; text-decoration:none; }
    button{ font-family:inherit; }

    .container{ max-width:var(--max); margin:0 auto; padding:0 18px; }

    /* ===== Accesibilidad/Perf ===== */
    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
    }

    /* ===== Topbar (Netflix style) ===== */
    .topbar{
      position:fixed; inset:0 0 auto 0; height:var(--navH);
      z-index:50;
      display:flex; align-items:center;
      background:linear-gradient(180deg, rgba(0,0,0,.85), rgba(0,0,0,.25), rgba(0,0,0,0));
      pointer-events:none;
    }
    .topbar .container{
      display:flex; align-items:center; justify-content:space-between; gap:14px;
      pointer-events:auto;
    }
    .brand{
      display:flex; align-items:baseline; gap:10px;
      font-weight:900; letter-spacing:.2px;
    }
    .brand .logo{
      font-weight:900;
      color:#fff;
      font-size:18px;
      display:flex; align-items:center; gap:8px;
    }
    .brand .logo .dot{
      width:10px; height:10px; border-radius:999px;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      box-shadow:0 0 0 4px rgba(37,99,235,.18);
    }
    .navlinks{
      display:flex; gap:10px; align-items:center;
      color:rgba(245,247,251,.92);
      font-weight:700;
      font-size:13.5px;
    }
    .navlinks a{
      padding:10px 10px;
      border-radius:10px;
      color:rgba(245,247,251,.92);
    }
    .navlinks a:hover{ background:rgba(255,255,255,.08); }

    .navCTA{
      display:flex; gap:10px; align-items:center;
    }

    .btn{
      appearance:none; border:1px solid transparent;
      padding:10px 16px;
      border-radius:999px;
      font-weight:900;
      cursor:pointer;
      display:inline-flex; align-items:center; gap:10px;
      transition:transform .16s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease, opacity .18s ease;
      user-select:none;
      white-space:nowrap;
    }
    .btn:active{ transform:scale(.98); }
    .btn.primary{
      color:#fff;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      box-shadow:0 18px 35px rgba(37,99,235,.18);
    }
    .btn.primary:hover{ transform:translateY(-1px); box-shadow:0 22px 46px rgba(37,99,235,.22); }
    .btn.ghost{
      color:#fff;
      background:rgba(255,255,255,.12);
      border-color:rgba(255,255,255,.18);
      backdrop-filter: blur(10px);
    }
    .btn.ghost:hover{ background:rgba(255,255,255,.18); border-color:rgba(255,255,255,.24); transform:translateY(-1px); }
    .btn.white{
      background:#fff; color:#0b0b0b;
      border-color:rgba(255,255,255,.85);
    }
    .btn.white:hover{ transform:translateY(-1px); }

    /* ===== HERO FULLSCREEN SLIDER ===== */
    .hero{
      position:relative;
      min-height:100vh;
    }

    .heroRail{
      height:100vh;
      display:flex;
      overflow-x:auto;
      scroll-snap-type:x mandatory;
      scroll-behavior:smooth;
      -webkit-overflow-scrolling:touch;
      scrollbar-width:none;
    }
    .heroRail::-webkit-scrollbar{ display:none; }

    .heroSlide{
      position:relative;
      flex:0 0 100vw;
      height:100vh;
      scroll-snap-align:start;
      overflow:hidden;
      background:#000;
    }

    .heroMedia{
      position:absolute; inset:0;
      width:100%; height:100%;
    }
    .heroMedia img,
    .heroMedia video{
      position:absolute; inset:0;
      width:100%; height:100%;
      object-fit:cover;
      filter:saturate(1.05) contrast(1.02);
      transform:scale(1.02);
    }

    /* Overlay Netflix */
    .heroOverlay{
      position:absolute; inset:0;
      background:
        linear-gradient(90deg, rgba(0,0,0,.92) 0%, rgba(0,0,0,.72) 34%, rgba(0,0,0,.25) 62%, rgba(0,0,0,0) 80%),
        linear-gradient(180deg, rgba(0,0,0,.65) 0%, rgba(0,0,0,.18) 35%, rgba(0,0,0,.70) 100%);
    }

    .heroInner{
      position:relative;
      z-index:2;
      height:100%;
      display:flex;
      align-items:flex-end;
      padding: calc(var(--navH) + 46px) 0 72px;
    }

    .heroContent{
      width:min(640px, 92vw);
    }

    .kicker{
      display:inline-flex; align-items:center; gap:10px;
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.22em;
      font-size:12px;
      color:rgba(245,247,251,.88);
      opacity:.92;
    }
    .pill{
      padding:6px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
    }
    .title{
      font-family:"Playfair Display",serif;
      font-size:clamp(36px,5.2vw,58px);
      line-height:1.02;
      margin:14px 0 10px;
      letter-spacing:.2px;
      text-shadow:0 18px 60px rgba(0,0,0,.65);
    }
    .desc{
      margin:0;
      color:rgba(245,247,251,.92);
      font-size:15.5px;
      line-height:1.65;
      text-shadow:0 14px 40px rgba(0,0,0,.55);
    }
    .heroActions{
      display:flex; flex-wrap:wrap; gap:10px;
      margin-top:16px;
      align-items:center;
    }
    .metaLine{
      margin-top:10px;
      color:rgba(199,203,214,.92);
      font-size:13px;
    }

    .heroUI{
      position:absolute;
      left:0; right:0;
      bottom:20px;
      z-index:10;
      pointer-events:none;
    }
    .heroUI .container{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      pointer-events:auto;
    }
    .heroArrows{
      display:flex; gap:10px;
    }
    .circleBtn{
      width:46px; height:46px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(0,0,0,.35);
      color:#fff;
      font-weight:900;
      cursor:pointer;
      display:grid; place-items:center;
      transition:transform .15s ease, background .15s ease, border-color .15s ease, opacity .15s ease;
    }
    .circleBtn:hover{
      transform:translateY(-1px);
      background:rgba(255,255,255,.10);
      border-color:rgba(255,255,255,.26);
    }
    .circleBtn:disabled{ opacity:.45; cursor:not-allowed; transform:none; }

    .dots{
      display:flex; gap:8px; align-items:center;
      justify-content:flex-end;
    }
    .dot{
      width:9px; height:9px;
      border-radius:999px;
      background:rgba(255,255,255,.28);
      border:1px solid rgba(255,255,255,.18);
      cursor:pointer;
      transition:transform .15s ease, background .15s ease, width .15s ease;
    }
    .dot.active{
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      width:28px;
    }

    /* ===== Secciones debajo: Netflix rows ===== */
    .section{
      padding:26px 0 14px;
    }
    .sectionHeader{
      display:flex; align-items:end; justify-content:space-between; gap:14px;
      margin:0 0 10px;
    }
    .sectionHeader h2{
      margin:0;
      font-size:18px;
      font-weight:900;
      letter-spacing:.2px;
    }
    .sectionHeader small{
      color:var(--muted2);
      font-weight:700;
    }

    .rowShell{
      position:relative;
    }
    .rowTrack{
      display:flex;
      gap:12px;
      overflow-x:auto;
      scroll-snap-type:x mandatory;
      -webkit-overflow-scrolling:touch;
      scroll-behavior:smooth;
      padding:8px 2px 14px;
      scrollbar-width:thin;
      scrollbar-color: rgba(255,255,255,.16) transparent;
    }
    .rowTrack::-webkit-scrollbar{ height:10px; }
    .rowTrack::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.12); border-radius:999px; }

    .rowCard{
      scroll-snap-align:start;
      flex:0 0 240px;
      border-radius:16px;
      overflow:hidden;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      box-shadow:0 18px 50px rgba(0,0,0,.30);
      transform:translateZ(0);
      transition:transform .18s ease, border-color .18s ease, background .18s ease;
      cursor:pointer;
    }
    .rowCard:hover{
      transform:translateY(-4px);
      border-color:rgba(255,255,255,.18);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
    }
    .rowPoster{
      aspect-ratio:16/9;
      background:#0f1114;
    }
    .rowPoster img{
      width:100%; height:100%;
      object-fit:cover;
      transform:scale(1.02);
      filter:saturate(1.02) contrast(1.02);
    }
    .rowBody{
      padding:12px 12px 14px;
    }
    .rowTitle{
      margin:0 0 6px;
      font-weight:900;
      font-size:13.5px;
      line-height:1.25;
    }
    .rowDesc{
      margin:0;
      color:rgba(199,203,214,.92);
      font-size:12.6px;
      line-height:1.45;
    }
    .rowBadges{
      display:flex; flex-wrap:wrap; gap:6px;
      margin-top:10px;
    }
    .badge{
      font-size:11px;
      font-weight:900;
      letter-spacing:.06em;
      text-transform:uppercase;
      padding:6px 8px;
      border-radius:999px;
      background:rgba(37,99,235,.14);
      border:1px solid rgba(37,99,235,.22);
      color:rgba(245,247,251,.96);
    }
    .badge.gold{
      background:rgba(245,158,11,.16);
      border-color:rgba(245,158,11,.22);
    }

    /* Flechas de fila */
    .rowArrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      z-index:5;
      width:44px; height:64px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.35);
      color:#fff;
      font-weight:900;
      cursor:pointer;
      display:grid; place-items:center;
      transition:transform .15s ease, background .15s ease, opacity .15s ease;
    }
    .rowArrow:hover{ background:rgba(255,255,255,.10); transform:translateY(-50%) scale(1.02); }
    .rowArrow:disabled{ opacity:.35; cursor:not-allowed; }
    .rowArrow.left{ left:-6px; }
    .rowArrow.right{ right:-6px; }

    /* ===== Secciones ‚Äúinformativas‚Äù tipo panel ===== */
    .panel{
      margin:26px 0 0;
      padding:18px 16px;
      border-radius:18px;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
    }
    .panel h3{
      margin:0 0 8px;
      font-family:"Playfair Display",serif;
      font-size:26px;
      letter-spacing:.2px;
    }
    .panel p{ margin:0; color:rgba(245,247,251,.90); line-height:1.75; }
    .bullets{
      margin:10px 0 0;
      padding-left:18px;
      color:rgba(245,247,251,.90);
    }
    .bullets li{ margin:7px 0; color:rgba(199,203,214,.95); }

    .split{
      display:grid;
      grid-template-columns:1.1fr .9fr;
      gap:18px;
      align-items:center;
    }
    @media (max-width:960px){
      :root{ --navH:62px; }
      .split{ grid-template-columns:1fr; }
      .rowCard{ flex-basis: 78vw; }
      .rowArrow{ display:none; }
      .navlinks{ display:none; }
    }

    /* ===== Form ===== */
    .form{
      margin-top:14px;
      border-radius:18px;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      padding:16px;
    }
    .grid2{
      display:grid; gap:12px;
      grid-template-columns:repeat(2,minmax(0,1fr));
    }
    @media (max-width:760px){ .grid2{ grid-template-columns:1fr; } }
    label{ font-weight:900; font-size:12.5px; color:rgba(245,247,251,.92); }
    input,select,textarea{
      width:100%;
      margin-top:6px;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(0,0,0,.22);
      color:#fff;
      outline:none;
    }
    input:focus,select:focus,textarea:focus{
      border-color:rgba(37,99,235,.55);
      box-shadow:0 0 0 4px rgba(37,99,235,.18);
    }
    textarea{ min-height:110px; resize:vertical; }

    /* ===== Modal ===== */
    dialog{
      border:none;
      border-radius:18px;
      width:min(860px, calc(100% - 24px));
      padding:0;
      background:linear-gradient(180deg, #121316, #0f1012);
      color:#fff;
      box-shadow:0 30px 120px rgba(0,0,0,.65);
    }
    dialog::backdrop{ background:rgba(0,0,0,.72); }
    .modalHead{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:14px 16px;
      border-bottom:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.35);
    }
    .modalHead strong{ font-weight:900; }
    .closeBtn{
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.08);
      color:#fff;
      border-radius:999px;
      padding:9px 12px;
      cursor:pointer;
      font-weight:900;
    }
    .modalBody{
      padding:14px 16px 18px;
      max-height:72vh;
      overflow:auto;
    }
    .modalGallery{
      display:flex; gap:10px;
      overflow-x:auto;
      padding:10px 2px 12px;
      scroll-snap-type:x mandatory;
    }
    .modalGallery::-webkit-scrollbar{ height:10px; }
    .modalGallery::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.12); border-radius:999px; }
    .gItem{
      scroll-snap-align:start;
      flex:0 0 260px;
      aspect-ratio:4/3;
      border-radius:14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      background:#0f1114;
    }
    .gItem img{ width:100%; height:100%; object-fit:cover; }

    footer{
      margin-top:24px;
      padding:18px 0 26px;
      border-top:1px solid rgba(255,255,255,.10);
      color:rgba(199,203,214,.88);
      font-size:13px;
    }
  </style>
</head>
<!-- =========================
PARTE 2/3 ‚Äî BODY + HTML COMPLETO
Pega esto despu√©s de la Parte 1
========================= -->
<body>

  <!-- TOPBAR -->
  <header class="topbar" aria-label="Barra superior">
    <div class="container">
      <div class="brand">
        <a class="logo" href="#inicio" aria-label="Ir al inicio">
          <span class="dot" aria-hidden="true"></span>
          Arteluk
        </a>
      </div>

      <nav class="navlinks" aria-label="Navegaci√≥n">
        <a href="#talleres">Talleres</a>
        <a href="#exposiciones">Exposiciones</a>
        <a href="#equipo">Equipo</a>
        <a href="#contacto">Formulario</a>
      </nav>

      <div class="navCTA">
        <a class="btn ghost" href="#talleres">Ver talleres</a>
        <a class="btn primary" href="#contacto" data-track="Contact" data-track-name="CTA Topbar - Inscribir">Inscribe a tu hijo/a</a>
      </div>
    </div>
  </header>

  <!-- HERO FULLSCREEN (3 SLIDES) -->
  <main id="inicio" class="hero" aria-label="Inicio">
    <div class="heroRail" id="heroRail" aria-label="Carrusel principal">

      <!-- SLIDE 1: PRINCIPIO + VIDEO -->
      <section class="heroSlide" data-hero="0" aria-label="Presentaci√≥n Arteluk">
        <div class="heroMedia">
          <!-- ‚úÖ OPCIONAL: pon tu video real aqu√≠ (si no existe, se ver√° el poster) -->
          <video autoplay muted loop playsinline poster="IMG/IMG_5035.jpg">
            <source src="media/hero.mp4" type="video/mp4">
          </video>
          <!-- Fallback si el video no carga (queda tapado por el video, pero sirve por si lo sacas) -->
          <img src="IMG/IMG_5035.jpg" alt="Arteluk" loading="eager" decoding="async" />
        </div>

        <div class="heroOverlay" aria-hidden="true"></div>

        <div class="container heroInner">
          <div class="heroContent">
            <div class="kicker">
              <span class="pill">Valdivia</span>
              <span class="pill">Arte & Arteterapia</span>
            </div>

            <h1 class="title">Arte, emoci√≥n y bienestar.</h1>

            <p class="desc">
              Un espacio seguro donde ni√±os, j√≥venes y adultos pueden expresarse, regular emociones y
              reconectar con su creatividad. Acompa√±amiento cercano, grupos peque√±os y metodolog√≠a con a√±os de trabajo.
            </p>

            <div class="heroActions">
              <button class="btn white" type="button"
                data-yt="https://www.youtube.com/watch?v=8abquRuhvCA"
                data-track="VideoClick" data-track-name="Hero - Reproducir">
                ‚ñ∂ Reproducir
              </button>
              <button class="btn ghost" type="button" data-scroll="#talleres"
                data-track="ViewContent" data-track-name="Hero - M√°s info">
                ‚ìò M√°s informaci√≥n
              </button>
              <a class="btn primary" href="#contacto" data-track="Contact" data-track-name="Hero - Agendar">Agendar</a>
            </div>

            <div class="metaLine">Video oficial ¬∑ clic y listo (abre YouTube).</div>
          </div>
        </div>
      </section>

      <!-- SLIDE 2: EPIDEMIA SALUD MENTAL -->
      <section class="heroSlide" data-hero="1" aria-label="Epidemia de salud mental">
        <div class="heroMedia">
          <img src="IMG/IMG_5035.jpg" alt="Epidemia de salud mental" loading="eager" decoding="async" />
        </div>

        <div class="heroOverlay" aria-hidden="true"></div>

        <div class="container heroInner">
          <div class="heroContent">
            <div class="kicker">
              <span class="pill">Contexto</span>
              <span class="pill">Bienestar</span>
            </div>

            <h2 class="title">Epidemia de salud mental</h2>

            <p class="desc">
              M√°s pantallas, menos conexi√≥n real. Ansiedad, estr√©s y desregulaci√≥n emocional ya son parte del d√≠a a d√≠a.
              En Arteluk volvemos a lo esencial: expresarnos, sentirnos y escucharnos.
            </p>

            <div class="heroActions">
              <button class="btn white" type="button" data-scroll="#epidemia" data-track="ViewContent" data-track-name="Hero - Ir Epidemia">
                Leer
              </button>
              <button class="btn ghost" type="button" data-scroll="#metodologia" data-track="ViewContent" data-track-name="Hero - Ir Metodolog√≠a">
                Ver metodolog√≠a
              </button>
              <a class="btn primary" href="#contacto" data-track="Contact" data-track-name="Hero - Consultar">Consultar</a>
            </div>
          </div>
        </div>
      </section>

      <!-- SLIDE 3: METODOLOG√çA -->
      <section class="heroSlide" data-hero="2" aria-label="Metodolog√≠a Arteluk">
        <div class="heroMedia">
          <img src="IMG/IMG_6131.jpg" alt="Metodolog√≠a Arteluk" loading="eager" decoding="async" />
        </div>

        <div class="heroOverlay" aria-hidden="true"></div>

        <div class="container heroInner">
          <div class="heroContent">
            <div class="kicker">
              <span class="pill">Metodolog√≠a</span>
              <span class="pill">10+ a√±os</span>
            </div>

            <h2 class="title">Metodolog√≠a Arteluk</h2>

            <p class="desc">
              Metodolog√≠a probada con ni√±os y perfeccionada por a√±os. Cambios visibles en expresi√≥n emocional,
              autoestima, seguridad personal y regulaci√≥n.
            </p>

            <div class="heroActions">
              <button class="btn white" type="button" data-scroll="#metodologia" data-track="ViewContent" data-track-name="Hero - Abrir Metodolog√≠a">
                Ver detalles
              </button>
              <button class="btn ghost" type="button" data-scroll="#talleres" data-track="ViewContent" data-track-name="Hero - Ir Talleres">
                Ver talleres
              </button>
              <a class="btn primary" href="#contacto" data-track="Contact" data-track-name="Hero - Inscribir">Inscribe</a>
            </div>
          </div>
        </div>
      </section>

    </div>

    <!-- UI HERO (flechas + dots) -->
    <div class="heroUI" aria-label="Controles del carrusel">
      <div class="container">
        <div class="heroArrows">
          <button class="circleBtn" id="heroPrev" type="button" aria-label="Anterior">‚Äπ</button>
          <button class="circleBtn" id="heroNext" type="button" aria-label="Siguiente">‚Ä∫</button>
        </div>

        <div class="dots" id="heroDots" aria-label="Paginaci√≥n">
          <button class="dot active" type="button" aria-label="Slide 1" data-dot="0"></button>
          <button class="dot" type="button" aria-label="Slide 2" data-dot="1"></button>
          <button class="dot" type="button" aria-label="Slide 3" data-dot="2"></button>
        </div>
      </div>
    </div>
  </main>

  <!-- CONTENIDO DEBAJO -->
  <div class="container">

    <!-- ROW: TALLERES (Planes) -->
    <section id="talleres" class="section" aria-label="Talleres y planes">
      <div class="sectionHeader">
        <h2>Talleres y planes</h2>
        <small>Desliza o usa flechas ¬∑ como Netflix</small>
      </div>

      <div class="rowShell" data-row="planes">
        <button class="rowArrow left" type="button" aria-label="Anterior fila" data-row-prev>‚Äπ</button>
        <button class="rowArrow right" type="button" aria-label="Siguiente fila" data-row-next>‚Ä∫</button>

        <div class="rowTrack" data-row-track>
          <!-- Verano b√°sico -->
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="üåº Taller de Vacaciones B√°sico ‚Äî $45.000"
            data-template="desc-verano-basico">
            <div class="rowPoster">
              <img src="IMG/WhatsApp Image 2025-12-15 at 12.22.38 PM.jpeg" alt="Taller Vacaciones B√°sico" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">üåº Vacaciones B√°sico ‚Äî $45.000</p>
              <p class="rowDesc">3 clases/semana ¬∑ 1 hr ¬∑ L/M/V ¬∑ 15:30‚Äì16:30</p>
              <div class="rowBadges">
                <span class="badge gold">Verano</span>
                <span class="badge">Materiales</span>
              </div>
            </div>
          </article>

          <!-- Verano premium recomendado -->
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="üëë Taller de Vacaciones Premium ‚Äî $65.000"
            data-template="desc-verano-premium">
            <div class="rowPoster">
              <img src="IMG/WhatsApp Image 2025-12-15 at 8.33.32 AM.jpeg" alt="Taller Vacaciones Premium" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">üëë Vacaciones Premium ‚Äî $65.000</p>
              <p class="rowDesc">3 clases/semana ¬∑ 2 hrs ¬∑ M/J/S ¬∑ 15:00‚Äì17:00</p>
              <div class="rowBadges">
                <span class="badge">Recomendado</span>
                <span class="badge gold">Verano</span>
              </div>
            </div>
          </article>

          <!-- Taller Artes -->
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="Taller de Artes ‚Äî $60.000"
            data-template="desc-basico">
            <div class="rowPoster">
              <img src="IMG/Fondo para curso de basico.jpg" alt="Taller de Artes" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Taller de Artes ‚Äî $60.000</p>
              <p class="rowDesc">4 clases/mes ¬∑ 1 hr ¬∑ + matr√≠cula $15.000</p>
              <div class="rowBadges">
                <span class="badge">Mensual</span>
                <span class="badge">Ni√±os</span>
              </div>
            </div>
          </article>

          <!-- Premium -->
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="üëë Taller de Artes Premium ‚Äî $120.000"
            data-template="desc-premium">
            <div class="rowPoster">
              <img src="IMG/Fondo para clases premium.jpg" alt="Taller Premium" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">üëë Artes Premium ‚Äî $120.000</p>
              <p class="rowDesc">4 clases/mes ¬∑ 2 hrs ¬∑ + matr√≠cula $15.000</p>
              <div class="rowBadges">
                <span class="badge">Mensual</span>
                <span class="badge">2 horas</span>
              </div>
            </div>
          </article>

          <!-- TEA -->
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="Taller TEA ‚Äî $60.000"
            data-template="desc-tea">
            <div class="rowPoster">
              <img src="IMG/Fondo para clases de dibujo.jpg" alt="Taller TEA" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">TEA ‚Äî $60.000</p>
              <p class="rowDesc">Grupos peque√±os ¬∑ rutinas claras ¬∑ + matr√≠cula</p>
              <div class="rowBadges">
                <span class="badge">Inclusivo</span>
                <span class="badge">Dibujo</span>
              </div>
            </div>
          </article>

          <!-- Trimestral -->
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="Plan Trimestral ‚Äî $270.000"
            data-template="desc-trimestral">
            <div class="rowPoster">
              <img src="IMG/WhatsApp Image 2025-11-04 at 10.07.50 AM.jpeg" alt="Plan Trimestral" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Plan Trimestral ‚Äî $270.000</p>
              <p class="rowDesc">Premium 3 meses ¬∑ 10% dcto ¬∑ pago anticipado</p>
              <div class="rowBadges">
                <span class="badge">Ahorro</span>
                <span class="badge">3 meses</span>
              </div>
            </div>
          </article>

          <!-- Adultos -->
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="Taller para Adultos ‚Äî $60.000"
            data-template="desc-adultos">
            <div class="rowPoster">
              <img src="IMG/fondo para curso adulto.jpg" alt="Taller Adultos" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Adultos ‚Äî $60.000</p>
              <p class="rowDesc">√ìleo + dibujo ¬∑ t√©cnica y disfrute ¬∑ todos niveles</p>
              <div class="rowBadges">
                <span class="badge">Adultos</span>
                <span class="badge">√ìleo</span>
              </div>
            </div>
          </article>

          <!-- Por un d√≠a -->
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="Plan por un d√≠a ‚Äî $20.000"
            data-template="desc-dia">
            <div class="rowPoster">
              <img src="IMG/IMG_5557.jpg" alt="Plan por un d√≠a" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Plan por un d√≠a ‚Äî $20.000</p>
              <p class="rowDesc">Una clase ¬∑ vive Arteluk ¬∑ sin matr√≠cula</p>
              <div class="rowBadges">
                <span class="badge">1 sesi√≥n</span>
                <span class="badge">Probar</span>
              </div>
            </div>
          </article>

        </div>
      </div>

      <div style="margin-top:12px">
        <a class="btn primary" href="#contacto" data-track="Contact" data-track-name="Talleres - Reservar">Reservar / Consultar</a>
        <span style="margin-left:10px;color:rgba(199,203,214,.9);font-size:13px">Planes ni√±os: + matr√≠cula $15.000 ¬∑ Vacaciones: sin matr√≠cula</span>
      </div>
    </section>

    <!-- ROW: EXPOSICIONES (Netflix cards + modal con galer√≠a) -->
    <section id="exposiciones" class="section" aria-label="Exposiciones">
      <div class="sectionHeader">
        <h2>Exposiciones</h2>
        <small>2 a 3 al a√±o ¬∑ proceso al mundo</small>
      </div>

      <div class="rowShell" data-row="expo">
        <button class="rowArrow left" type="button" aria-label="Anterior fila" data-row-prev>‚Äπ</button>
        <button class="rowArrow right" type="button" aria-label="Siguiente fila" data-row-next>‚Ä∫</button>

        <div class="rowTrack" data-row-track>

          <article class="rowCard" role="button" tabindex="0"
            data-expo="expo01">
            <div class="rowPoster">
              <img src="IMG/Exposision1.jpg" alt="Exposici√≥n 01" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Exposici√≥n 01 ¬∑ Barco Neptuno</p>
              <p class="rowDesc">‚ÄúEl Vuelo de Alaska‚Äù ¬∑ cierre emotivo ¬∑ arteterapia</p>
              <div class="rowBadges">
                <span class="badge">Arteterapia</span>
                <span class="badge">Acr√≠lico</span>
              </div>
            </div>
          </article>

          <article class="rowCard" role="button" tabindex="0"
            data-expo="expo02">
            <div class="rowPoster">
              <img src="IMG/WhatsApp Image 2025-11-04 at 4.10.22 PM.jpeg" alt="Exposici√≥n 02" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Exposici√≥n 02 ¬∑ Biblioteca Municipal</p>
              <p class="rowDesc">15 d√≠as ¬∑ pinturas + acuarelas ¬∑ clases abiertas</p>
              <div class="rowBadges">
                <span class="badge">Ni√±os</span>
                <span class="badge">Comunidad</span>
              </div>
            </div>
          </article>

          <article class="rowCard" role="button" tabindex="0"
            data-expo="expo03">
            <div class="rowPoster">
              <img src="IMG/WhatsApp Image 2025-11-04 at 4.11.53 PM.jpeg" alt="Exposici√≥n 03" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Exposici√≥n 03 ¬∑ U. Santo Tom√°s</p>
              <p class="rowDesc">1 mes y medio ¬∑ Mary + exposici√≥n infantil</p>
              <div class="rowBadges">
                <span class="badge">Galer√≠a</span>
                <span class="badge">Mary</span>
              </div>
            </div>
          </article>

          <article class="rowCard" role="button" tabindex="0"
            data-expo="expo04">
            <div class="rowPoster">
              <img src="IMG/WhatsApp Image 2025-11-04 at 4.13.09 PM.jpeg" alt="Exposici√≥n 04" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Exposici√≥n 04 ¬∑ Espacio Fluvial</p>
              <p class="rowDesc">Evento abierto ¬∑ c√≥ctel ¬∑ arte como comunidad</p>
              <div class="rowBadges">
                <span class="badge">Cultura</span>
                <span class="badge">Ciudadan√≠a</span>
              </div>
            </div>
          </article>

          <article class="rowCard" role="button" tabindex="0"
            data-expo="expo05">
            <div class="rowPoster">
              <img src="IMG/WhatsApp Image 2025-11-04 at 10.07.23 AM.jpeg" alt="Exposici√≥n 05" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Exposici√≥n 05 ¬∑ Caf√© Moro</p>
              <p class="rowDesc">15 d√≠as ¬∑ √≥leo ¬∑ exposici√≥n equina</p>
              <div class="rowBadges">
                <span class="badge">√ìleo</span>
                <span class="badge">15 d√≠as</span>
              </div>
            </div>
          </article>

          <article class="rowCard" role="button" tabindex="0"
            data-expo="expo06">
            <div class="rowPoster">
              <img src="IMG/IMG_2948.jpg" alt="Exposici√≥n 06" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Exposici√≥n 06 ¬∑ Colectiva</p>
              <p class="rowDesc">Redes ¬∑ visibilidad ¬∑ experiencia expositiva</p>
              <div class="rowBadges">
                <span class="badge">Colectiva</span>
                <span class="badge">Redes</span>
              </div>
            </div>
          </article>

        </div>
      </div>

      <div class="panel" style="margin-top:10px">
        <h3 style="margin:0 0 6px">Mostrar la obra tambi√©n sana</h3>
        <p>
          No es solo ‚Äúexponer por exponer‚Äù. Es ense√±ar seguridad, orgullo y pertenencia. El proceso se vuelve real:
          familia, comunidad y ni√±os celebrando su crecimiento.
        </p>
      </div>
    </section>

    <!-- EPIDEMIA (secci√≥n detallada) -->
    <section id="epidemia" class="section" aria-label="Epidemia de salud mental">
      <div class="panel split">
        <div>
          <h3>Epidemia de salud mental</h3>
          <p>
            ¬øCu√°ntas veces sientes que tu energ√≠a ya no es la misma? Lo atribuimos al cansancio,
            pero el fondo es una crisis emocional que toca a ni√±os, j√≥venes y adultos.
          </p>
          <ul class="bullets">
            <li>M√°s pantallas, menos conexi√≥n real.</li>
            <li>Placer r√°pido que no se transforma en bienestar.</li>
            <li>Ansiedad, estr√©s y desregulaci√≥n cada vez m√°s comunes.</li>
          </ul>
        </div>
        <div style="border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,.10)">
          <img src="IMG/IMG_5035.jpg" alt="Proceso creativo en Arteluk" loading="lazy" decoding="async">
        </div>
      </div>
    </section>

    <!-- METODOLOG√çA (secci√≥n detallada) -->
    <section id="metodologia" class="section" aria-label="Metodolog√≠a Arteluk">
      <div class="panel split">
        <div>
          <h3>Metodolog√≠a Arteluk</h3>
          <p>
            Metodolog√≠a probada y perfeccionada por a√±os. No buscamos artistas perfectos:
            buscamos personas orgullosas de su proceso.
          </p>
          <ul class="bullets">
            <li>Estructura clara y amorosa en cada sesi√≥n.</li>
            <li>Exploraci√≥n de materiales + conversaci√≥n guiada.</li>
            <li>Trabajo de autoestima y regulaci√≥n emocional.</li>
            <li>Cierre con sensaci√≥n de logro y pertenencia.</li>
          </ul>
        </div>
        <div style="border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,.10)">
          <img src="IMG/IMG_6131.jpg" alt="Metodolog√≠a en Arteluk" loading="lazy" decoding="async">
        </div>
      </div>
    </section>

    <!-- EQUIPO -->
    <section id="equipo" class="section" aria-label="Equipo">
      <div class="sectionHeader">
        <h2>Equipo</h2>
        <small>Personas que hacen hogar</small>
      </div>

      <div class="rowShell" data-row="equipo">
        <button class="rowArrow left" type="button" aria-label="Anterior fila" data-row-prev>‚Äπ</button>
        <button class="rowArrow right" type="button" aria-label="Siguiente fila" data-row-next>‚Ä∫</button>

        <div class="rowTrack" data-row-track>
          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="Ivanya Sierra"
            data-template="bio-ivanya">
            <div class="rowPoster">
              <img src="IMG/profesora.jpg" alt="Ivanya Sierra" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Ivanya Sierra</p>
              <p class="rowDesc">Artista visual y docente ¬∑ enfoque emp√°tico</p>
              <div class="rowBadges"><span class="badge">Docencia</span><span class="badge">Inclusi√≥n</span></div>
            </div>
          </article>

          <article class="rowCard" role="button" tabindex="0"
            data-modal-title="Paula Barros"
            data-template="bio-paula">
            <div class="rowPoster">
              <img src="IMG/equipo (2).jpg" alt="Paula Barros" loading="lazy" decoding="async">
            </div>
            <div class="rowBody">
              <p class="rowTitle">Paula Barros</p>
              <p class="rowDesc">Artes musicales y sonoras (UACh) ¬∑ afinidad con ni√±os</p>
              <div class="rowBadges"><span class="badge">M√∫sica</span><span class="badge">Acompa√±amiento</span></div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- FORMULARIO -->
    <section id="contacto" class="section" aria-label="Formulario">
      <div class="sectionHeader">
        <h2>Reserva o consulta</h2>
        <small>Te contactamos apenas lo recibamos</small>
      </div>

      <div class="panel">
        <p style="margin:0;color:rgba(245,247,251,.92)">
          Direcci√≥n: <strong>Picarte 407, Valdivia</strong>. Completa el formulario y te hablamos por WhatsApp.
        </p>

        <form class="form" id="wlForm" novalidate>
          <div class="grid2">
            <div>
              <label for="nombre">Nombre y apellido</label>
              <input id="nombre" name="nombre" autocomplete="name" required />
            </div>
            <div>
              <label for="tel">Tel√©fono</label>
              <input id="tel" name="telefono" inputmode="tel" autocomplete="tel" placeholder="+56 9 1234 5678" />
            </div>
          </div>

          <div style="margin-top:12px">
            <label for="servicio">Servicio de inter√©s</label>
            <select id="servicio" name="servicio" required>
              <option value="" disabled selected>Selecciona una opci√≥n</option>
              <option>Taller de Vacaciones B√°sico ‚Äî $45.000</option>
              <option>Taller de Vacaciones Premium ‚Äî $65.000</option>
              <option>Taller de Artes ‚Äî $60.000</option>
              <option>Taller de Artes Premium ‚Äî $120.000</option>
              <option>Taller TEA ‚Äî $60.000</option>
              <option>Plan Trimestral ‚Äî $270.000</option>
              <option>Taller para Adultos ‚Äî $60.000</option>
              <option>Plan por un d√≠a ‚Äî $20.000</option>
            </select>
          </div>

          <div style="margin-top:12px">
            <label for="msg">Mensaje</label>
            <textarea id="msg" name="mensaje" placeholder="Horarios, edad del alumno/a, dudas‚Ä¶"></textarea>
          </div>

          <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:14px">
            <button class="btn primary" type="submit" id="sendBtn" data-track="Lead" data-track-name="Formulario - Enviar">
              Enviar
            </button>
            <span style="color:rgba(199,203,214,.9);font-size:13px">Respuesta r√°pida</span>
          </div>
        </form>
      </div>
    </section>

    <footer>
      <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap">
        <div>¬© Arteluk ‚Äî Picarte 407, Valdivia</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <a href="#talleres">Talleres</a>
          <a href="#exposiciones">Exposiciones</a>
          <a href="#equipo">Equipo</a>
          <a href="#contacto">Formulario</a>
        </div>
      </div>
    </footer>

  </div><!-- /container -->

  <!-- MODAL √öNICO -->
  <dialog id="modal" aria-label="Detalle">
    <div class="modalHead">
      <strong id="mTitle">Detalle</strong>
      <button class="closeBtn" id="mClose" type="button">Cerrar</button>
    </div>
    <div class="modalBody" id="mBody"></div>
  </dialog>

  <!-- TEMPLATES (PLANES + BIOS) -->
  <template id="desc-verano-basico">
    <p><strong>üåº PLAN B√ÅSICO VERANO ‚Äî Mary Quinteros ‚Äî $45.000</strong></p>
    <p>Crear ¬∑ Jugar ¬∑ Expresarse ¬∑ Disfrutar</p>
    <p>üïí <strong>Horario:</strong> 15:30 a 16:30 hrs</p>
    <p>üìÖ <strong>Modalidad:</strong> 3 d√≠as por semana ‚Äî <strong>Lunes, Mi√©rcoles y Viernes</strong></p>
    <p><strong>‚ú® T√©cnicas:</strong></p>
    <ul>
      <li>Acuarela divertida y expresiva</li>
      <li>Dibujo creativo</li>
      <li>Acr√≠lico l√∫dico sobre bastidor</li>
    </ul>
    <p><strong>Incluye:</strong> materiales + registro fotogr√°fico + ambiente cuidado.</p>
  </template>

  <template id="desc-verano-premium">
    <p><strong>üëë PLAN PREMIUM VERANO ‚Äî Ivanya Sierra ‚Äî $65.000</strong></p>
    <p>Sesiones de <strong>2 horas</strong>. Cada d√≠a se van con obra terminada.</p>
    <p>üïí <strong>Horario:</strong> 15:00 a 17:00 hrs</p>
    <p>üìÖ <strong>Modalidad:</strong> 3 d√≠as por semana ‚Äî <strong>Martes, Jueves y S√°bado</strong></p>
    <ul>
      <li>D√≠a 1: Acuarela Bot√°nica (A4)</li>
      <li>D√≠a 2: Acr√≠lico en bastidor (20√ó50)</li>
      <li>D√≠a 3: Dibujo en vivo (grafito + luz/sombra)</li>
    </ul>
    <p><strong>Incluye:</strong> materiales pro + registro + acompa√±amiento.</p>
  </template>

  <template id="desc-basico">
    <p><strong>üé® TALLER DE ARTES ‚Äî $60.000 + matr√≠cula $15.000</strong></p>
    <p>4 clases/mes ¬∑ 1 hora ¬∑ materiales base incluidos.</p>
    <ul>
      <li>Pintura en bastidor profesional</li>
      <li>Mezcla de color + composici√≥n</li>
      <li>Acompa√±amiento seg√∫n nivel</li>
      <li>Registro y feedback</li>
    </ul>
  </template>

  <template id="desc-premium">
    <p><strong>üëë PREMIUM ARTE MIXTO ‚Äî $120.000 + matr√≠cula $15.000</strong></p>
    <p>4 clases/mes ¬∑ 2 horas ¬∑ cowork + sala de espera.</p>
    <ul>
      <li>Pintura en bastidor + t√©cnicas mixtas</li>
      <li>Manualidades + yesoterapia + telar/fieltro</li>
      <li>Enfoque arteterap√©utico individual</li>
      <li>Exposici√≥n al cierre del ciclo</li>
    </ul>
  </template>

  <template id="desc-trimestral">
    <p><strong>PREMIUM TRIMESTRAL ‚Äî $270.000 (10% dcto.)</strong></p>
    <p>El mismo contenido del Premium por 3 meses. Ideal para continuidad y avance real.</p>
  </template>

  <template id="desc-tea">
    <p><strong>TALLER TEA ‚Äî $60.000 + matr√≠cula $15.000</strong></p>
    <p>4 clases/mes ¬∑ 1 hora ¬∑ grupos peque√±os ¬∑ 5 a 12 a√±os.</p>
    <ul>
      <li>Rutina clara y ambiente seguro</li>
      <li>Motricidad fina + concentraci√≥n</li>
      <li>Luz/sombra + composici√≥n</li>
      <li>Cierre creativo</li>
    </ul>
  </template>

  <template id="desc-adultos">
    <p><strong>TALLER ADULTOS ‚Äî $60.000</strong></p>
    <p>√ìleo y dibujo desde b√°sico hasta obra terminada. T√©cnica + disfrute + comunidad.</p>
  </template>

  <template id="desc-dia">
    <p><strong>PLAN POR UN D√çA ‚Äî $20.000</strong></p>
    <p>Clase √∫nica para vivir la experiencia Arteluk. Si contin√∫as, se descuenta del total.</p>
  </template>

  <template id="bio-ivanya">
    <p><strong>Ivanya Sierra</strong></p>
    <p>
      Artista visual y docente. Licenciada en Arte y Profesora de Artes Visuales (UC).
      Gesti√≥n cultural, inclusi√≥n y trabajo comunitario. Seis a√±os de experiencia como docente y tallerista.
    </p>
  </template>

  <template id="bio-paula">
    <p><strong>Paula Barros</strong></p>
    <p>
      Estudiante de Artes Musicales y Sonoras (UACh). Fortaleza en canto; explora piano y guitarra.
      Afinidad con ni√±os. Arte como medio de expresi√≥n y crecimiento.
    </p>
  </template>
<!-- =========================
PARTE 3/3 ‚Äî JS + CIERRE FINAL
Pega esto al FINAL (despu√©s de tus <template>)
========================= -->

<script>
/* =========================
  UTILIDADES
========================= */
const qs  = (s, el=document) => el.querySelector(s);
const qsa = (s, el=document) => Array.from(el.querySelectorAll(s));

function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

function toast(msg, type="ok"){
  const el = document.createElement("div");
  el.textContent = msg;
  el.style.cssText =
    "position:fixed;left:50%;bottom:22px;transform:translateX(-50%);" +
    "padding:12px 16px;border-radius:12px;z-index:99999;" +
    "font:600 14px/1.2 system-ui,-apple-system,Segoe UI,Roboto;" +
    "box-shadow:0 10px 26px rgba(0,0,0,.28);opacity:0;transition:.25s;" +
    (type==="ok"
      ? "background:#e9fff3;color:#065f46;border:1px solid rgba(6,95,70,.18);"
      : "background:#ffecec;color:#9b1c1c;border:1px solid rgba(155,28,28,.18);");
  document.body.appendChild(el);
  requestAnimationFrame(()=> el.style.opacity = "1");
  setTimeout(()=>{
    el.style.opacity = "0";
    setTimeout(()=> el.remove(), 260);
  }, 2400);
}

function smoothScrollTo(selector){
  const target = qs(selector);
  if(!target) return;
  const topbar = qs(".topbar");
  const offset = topbar ? topbar.getBoundingClientRect().height + 10 : 10;
  const y = window.scrollY + target.getBoundingClientRect().top - offset;
  window.scrollTo({ top: y, behavior: "smooth" });
}

function track(event, name){
  // Cambia esto a Meta Pixel / GA4 despu√©s si quieres
  // fbq('trackCustom', event, {name});
  console.log("[TRACK]", event, name || "");
}

/* =========================
  NAV HEIGHT (para offsets)
========================= */
(function setNavH(){
  const topbar = qs(".topbar");
  if(!topbar) return;
  function update(){
    document.documentElement.style.setProperty("--navH", topbar.offsetHeight + "px");
  }
  update();
  window.addEventListener("resize", update);
})();

/* =========================
  HERO CAROUSEL (3 slides)
  - auto every 7s
  - arrows + dots
  - swipe
========================= */
(function heroCarousel(){
  const rail = qs("#heroRail");
  const prev = qs("#heroPrev");
  const next = qs("#heroNext");
  const dots = qsa("#heroDots .dot");
  if(!rail || !prev || !next || !dots.length) return;

  const slides = qsa(".heroSlide", rail);
  let index = 0;
  let timer = null;
  let pausedUntil = 0;

  function go(i, opts={smooth:true}){
    index = (i + slides.length) % slides.length;
    rail.style.transform = `translateX(-${index * 100}%)`;
    dots.forEach((d,di)=> d.classList.toggle("active", di===index));
  }

  function pause(ms=12000){
    pausedUntil = Date.now() + ms;
  }

  function start(){
    stop();
    timer = setInterval(()=>{
      if(Date.now() < pausedUntil) return;
      go(index+1);
    }, 7000);
  }

  function stop(){
    if(timer){ clearInterval(timer); timer = null; }
  }

  prev.addEventListener("click", ()=>{ pause(); go(index-1); });
  next.addEventListener("click", ()=>{ pause(); go(index+1); });

  dots.forEach(d=>{
    d.addEventListener("click", ()=>{
      const i = Number(d.dataset.dot || 0);
      pause();
      go(i);
    });
  });

  // Keyboard
  window.addEventListener("keydown", (e)=>{
    if(e.key === "ArrowLeft"){ pause(); go(index-1); }
    if(e.key === "ArrowRight"){ pause(); go(index+1); }
  });

  // Swipe
  let x0 = null;
  rail.addEventListener("pointerdown", (e)=>{
    x0 = e.clientX;
    rail.setPointerCapture?.(e.pointerId);
  });
  rail.addEventListener("pointerup", (e)=>{
    if(x0 === null) return;
    const dx = e.clientX - x0;
    x0 = null;
    if(Math.abs(dx) < 40) return;
    pause();
    dx > 0 ? go(index-1) : go(index+1);
  });

  go(0);
  start();
})();

/* =========================
  BOTONES data-scroll / data-yt
========================= */
(function interactions(){
  // data-scroll
  qsa("[data-scroll]").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const sel = btn.getAttribute("data-scroll");
      if(sel) smoothScrollTo(sel);
    });
  });

  // YouTube
  qsa("[data-yt]").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const url = btn.getAttribute("data-yt");
      if(!url) return;
      track("VideoClick", btn.getAttribute("data-track-name") || "Video");
      window.open(url, "_blank", "noopener");
    });
  });

  // links with tracking
  qsa("[data-track]").forEach(el=>{
    el.addEventListener("click", ()=>{
      track(el.getAttribute("data-track"), el.getAttribute("data-track-name") || "");
    }, {passive:true});
  });
})();

/* =========================
  ROWS (Netflix-style) ‚Äî gen√©rico
  - cada .rowShell controla su .rowTrack
  - arrows scrollBy
========================= */
(function rows(){
  qsa(".rowShell").forEach(shell=>{
    const trackEl = qs("[data-row-track]", shell);
    const btnPrev = qs("[data-row-prev]", shell);
    const btnNext = qs("[data-row-next]", shell);
    if(!trackEl || !btnPrev || !btnNext) return;

    const step = ()=>{
      const card = qs(".rowCard", trackEl);
      if(!card) return 320;
      const w = card.getBoundingClientRect().width;
      return Math.max(260, Math.round(w + 14));
    };

    function update(){
      btnPrev.disabled = trackEl.scrollLeft <= 4;
      btnNext.disabled = (trackEl.scrollLeft + trackEl.clientWidth) >= (trackEl.scrollWidth - 4);
    }

    btnPrev.addEventListener("click", ()=> trackEl.scrollBy({left:-step(), behavior:"smooth"}));
    btnNext.addEventListener("click", ()=> trackEl.scrollBy({left: step(), behavior:"smooth"}));
    trackEl.addEventListener("scroll", update, {passive:true});
    window.addEventListener("resize", update);

    update();
  });
})();

/* =========================
  MODAL √öNICO (dialog)
  - abre por: data-template o data-expo
========================= */
(function modalSystem(){
  const modal = qs("#modal");
  const mTitle = qs("#mTitle");
  const mBody  = qs("#mBody");
  const mClose = qs("#mClose");
  if(!modal || !mTitle || !mBody || !mClose) return;

  // Expo galleries (puedes agregar m√°s fotos cuando quieras)
  const expoMap = {
    expo01: ["IMG/Exposision1.jpg","IMG/IMG_2948.jpg","IMG/IMG_5035.jpg","IMG/IMG_6131.jpg"],
    expo02: ["IMG/WhatsApp Image 2025-11-04 at 4.10.22 PM.jpeg","IMG/IMG_5035.jpg","IMG/IMG_6131.jpg"],
    expo03: ["IMG/WhatsApp Image 2025-11-04 at 4.11.53 PM.jpeg","IMG/IMG_5035.jpg","IMG/IMG_6131.jpg"],
    expo04: ["IMG/WhatsApp Image 2025-11-04 at 4.13.09 PM.jpeg","IMG/IMG_5035.jpg","IMG/IMG_6131.jpg"],
    expo05: ["IMG/WhatsApp Image 2025-11-04 at 10.07.23 AM.jpeg","IMG/IMG_5035.jpg","IMG/IMG_6131.jpg"],
    expo06: ["IMG/IMG_2948.jpg","IMG/IMG_5035.jpg","IMG/IMG_6131.jpg"]
  };

  function openModal(title, html){
    mTitle.textContent = title || "Detalle";
    mBody.innerHTML = html || "";
    if(modal.showModal) modal.showModal();
    else {
      // fallback simple
      modal.setAttribute("open","open");
    }
  }

  function closeModal(){
    if(modal.close) modal.close();
    else modal.removeAttribute("open");
  }

  mClose.addEventListener("click", closeModal);

  // cerrar al click fuera del contenido
  modal.addEventListener("click", (e)=>{
    const rect = modal.getBoundingClientRect();
    const inside =
      e.clientX >= rect.left && e.clientX <= rect.right &&
      e.clientY >= rect.top  && e.clientY <= rect.bottom;
    // dialog captura raro; mejor: si click es en el backdrop (target = dialog)
    if(e.target === modal) closeModal();
  });

  window.addEventListener("keydown", (e)=>{
    if(e.key === "Escape") closeModal();
  });

  function buildExpoHTML(expoKey, coverTitle){
    const imgs = expoMap[expoKey] || [];
    if(!imgs.length){
      return `<p>No hay im√°genes cargadas para esta expo todav√≠a.</p>`;
    }

    const main = imgs[0];
    const thumbs = imgs.map((src,i)=> `
      <button class="expoThumb ${i===0?"active":""}" type="button" data-src="${src}">
        <img src="${src}" alt="Foto ${i+1}" loading="lazy" decoding="async">
      </button>
    `).join("");

    return `
      <div class="expoModal">
        <div class="expoMain">
          <img id="expoMainImg" src="${main}" alt="Expo" loading="eager" decoding="async">
        </div>
        <div class="expoThumbs">${thumbs}</div>
        <p style="margin-top:10px;color:rgba(199,203,214,.95)">
          Consejo: agrega m√°s fotos en <code>expoMap</code> (Parte 3) y listo.
        </p>
      </div>
    `;
  }

  // Click cards
  qsa(".rowCard").forEach(card=>{
    const title = card.getAttribute("data-modal-title") || qs(".rowTitle", card)?.textContent || "Detalle";
    const templateId = card.getAttribute("data-template");
    const expoKey = card.getAttribute("data-expo");

    function open(){
      // Exposici√≥n -> galer√≠a
      if(expoKey){
        openModal(title, buildExpoHTML(expoKey, title));
        // bind thumbs
        const mainImg = qs("#expoMainImg");
        qsa(".expoThumb", mBody).forEach(btn=>{
          btn.addEventListener("click", ()=>{
            const src = btn.getAttribute("data-src");
            if(!src || !mainImg) return;
            mainImg.src = src;
            qsa(".expoThumb", mBody).forEach(b=> b.classList.remove("active"));
            btn.classList.add("active");
          });
        });
        track("ViewContent", "Expo - " + expoKey);
        return;
      }

      // Template -> clona el template
      if(templateId){
        const tpl = qs("#" + templateId);
        if(!tpl){
          openModal(title, `<p>No encontr√© el template <code>${templateId}</code>.</p>`);
          return;
        }
        openModal(title, tpl.innerHTML);
        track("ViewContent", title);
        return;
      }

      // Fallback
      openModal(title, `<p>Detalle disponible pronto.</p>`);
    }

    card.addEventListener("click", open);
    card.addEventListener("keydown", (e)=>{
      if(e.key === "Enter" || e.key === " "){
        e.preventDefault();
        open();
      }
    });
  });
})();

/* =========================
  FORM (enviar lead) ‚Äî webhook
  ‚ö†Ô∏è Cambia WEBHOOK_URL al tuyo real
========================= */
(function formWebhook(){
  const form = qs("#wlForm");
  const btn  = qs("#sendBtn");
  if(!form || !btn) return;

  const WEBHOOK_URL = "https://TU_WEBHOOK_AQUI.com"; // <--- CAMBIA ESTO

  function cleanPhone(v){
    if(!v) return "";
    let s = String(v).trim();
    s = s.replace(/[^\d+]/g, "");
    // si viene 569xxxxxxxx
    if(/^569\d{8}$/.test(s)) return "+" + s;
    // si viene 9xxxxxxxx
    if(/^9\d{8}$/.test(s)) return "+56" + s;
    // si viene +56 9...
    if(/^\+569\d{8}$/.test(s)) return s;
    return s;
  }

  form.addEventListener("submit", async (e)=>{
    e.preventDefault();

    const nombre   = (qs("#nombre")?.value || "").trim();
    const tel      = cleanPhone(qs("#tel")?.value || "");
    const servicio = (qs("#servicio")?.value || "").trim();
    const mensaje  = (qs("#msg")?.value || "").trim();

    if(!nombre || !servicio){
      toast("Completa nombre y servicio üôè", "err");
      return;
    }

    btn.disabled = true;
    btn.textContent = "Enviando‚Ä¶";

    const payload = {
      nombre,
      telefono: tel,
      servicio,
      mensaje,
      source: "arteluk-web",
      ts: new Date().toISOString()
    };

    try{
      // Si a√∫n no tienes webhook, comenta el fetch y listo: te muestra toast sin reventar.
      const res = await fetch(WEBHOOK_URL, {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify(payload)
      });

      if(!res.ok) throw new Error("HTTP " + res.status);

      toast("Listo ‚úÖ Te escribimos por WhatsApp", "ok");
      track("Lead", "Formulario - Enviado");
      form.reset();
    }catch(err){
      console.warn(err);
      toast("No se pudo enviar. Revisa el webhook.", "err");
      track("Error", "Webhook fallo");
    }finally{
      btn.disabled = false;
      btn.textContent = "Enviar";
    }
  });
})();

/* =========================
  ESTILOS EXTRA (galer√≠a expo en modal)
  (se inyecta aqu√≠ para no tocar tu Parte 1)
========================= */
(function injectModalCSS(){
  const css = `
    #modal::backdrop{ background:rgba(0,0,0,.72); }
    .expoModal{ display:flex; flex-direction:column; gap:12px; }
    .expoMain{ border-radius:16px; overflow:hidden; border:1px solid rgba(255,255,255,.12); }
    .expoMain img{ width:100%; height:auto; display:block; }
    .expoThumbs{ display:flex; gap:10px; overflow:auto; padding-bottom:6px; }
    .expoThumb{
      all:unset; cursor:pointer; flex:0 0 130px;
      border-radius:14px; overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
      opacity:.78; transition:.15s;
    }
    .expoThumb img{ width:100%; height:78px; object-fit:cover; display:block; }
    .expoThumb.active{ opacity:1; outline:3px solid rgba(96,165,250,.35); outline-offset:2px; }
  `;
  const tag = document.createElement("style");
  tag.textContent = css;
  document.head.appendChild(tag);
})();
</script>

</body>
</html>
